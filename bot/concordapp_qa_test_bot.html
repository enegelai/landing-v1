<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Concord QA Test Bot</title>
</head>
<body style="margin: 0;">
<div style="position: relative; width: 100%; height: 100vh;">

    <div aria-hidden="true" style="margin-left: 40px; margin-top: 20px;">
        <img src="https://www.concord.app/wp-content/themes/concord/layoutImg/concord_logo-gray.svg" alt="" itemprop="logo" height="54">
    </div>
    <div style="z-index: 10; color: black; text-align: center; width:100%; position: absolute; top:200px;left: 0px;">
        <div style="font-family:Helvetica, Arial, sans-serif; font-size: 36px; margin-bottom: 50px;">
            <h2>Concord QA Test Bot</h2>
        </div>
        <div style="font-family:sans-serif; font-size: 22px;">
            <h2>Concord QA <a href="https://crescendocx.ai" target="_blank">CrescendoCX.AI</a> Bot</h2>
        <div style="margin-bottom: 30px;">
            <button type="button" id="clearConv" style="cursor: pointer; color: white; font-size: 22px;background-color: rgb(6, 94, 255);padding: 12px 12px;border: 0;">Clear Conversation</button>
        </div>
        Use Clear Conversation button<br>to test a new conversation<br>as if with a different visitor
        </div>
    </div>
    <img src="/img/whirl.svg" alt="" style="height: 100vh;position: absolute;top:0;right:0;opacity: 0.5;">

    <!-- Enegel.ai bot widget begin -->
    <link href="https://unpkg.com/@enegelai/bot-widget/dist/enegelaibot.css" rel="stylesheet">
    <script src="https://unpkg.com/@enegelai/bot-widget/dist/enegelaibot.umd.js" type="text/javascript" async></script>
    <style>
        enegelai-bot {
            --enegelai-bot-header-color: rgba(255, 255, 255, 0.9);
            --enegelai-bot-header-background: rgba(255, 51, 102, 1);
            --enegelai-bot-message-user-background: rgba(255, 51, 102, 1);
            --enegelai-bot-anchor-background: rgba(255, 51, 102, 1);
            --enegelai-bot-anchor-border-color: rgba(255, 51, 102, 1);
            --enegelai-bot-form-submit-background: rgba(255, 51, 102, 1);
            --enegelai-bot-form-submit-border: rgba(255, 51, 102, 1);
            --enegelai-bot-max-height: 800px;
            --enegelai-bot-height-top-margin: 200px;
        }
    </style>
    <enegelai-bot
            name="Concord QA Test"
            url="bot-service.enegel.ai"
            org-id="concord"
            bot-id="jh9h7ys3uv"
            open="true"
            logo-svg='<?xml version="1.0" encoding="UTF-8"?><svg width="44" height="44" viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg">
                        <defs>
                            <linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="a">
                                <stop stop-color="#CE2780" offset="0%"/>
                                <stop stop-color="#F36" offset="50.06533%"/>
                                <stop stop-color="#FFC775" offset="100%"/>
                            </linearGradient>
                        </defs>
                        <g fill="none" fill-rule="evenodd">
                            <path d="M10.57126 21.5c0 5.93726 4.7329 10.74943 10.57126 10.74943V43C9.46562 43 0 33.37354 0 21.5 0 9.6263 9.46563 0 21.14252 0v10.75041c-5.83837 0-10.57126 4.81233-10.57126 10.74959m21.14252 0c0-5.93726-4.73274-10.74959-10.57126-10.74959v21.49902c5.83852 0 10.57126-4.81217 10.57126-10.74943"
                                  fill="url(#a)" transform="translate(0 1)"/>
                        </g>
                    </svg>'
    >
    </enegelai-bot>
    <!-- Enegel.ai bot widget end -->

    <script>

        function subscribeToBotEvents(){
            const chatBotElement = document.querySelector('enegelai-bot');

            // Event "c7o:bot:conversationStart" is emitted when user sends the first message in the conversation
            chatBotElement.addEventListener('c7o:bot:conversationStart',(event)=>{
                console.log(`Bot Event: c7o:bot:conversationStart`,event.detail);
                // Expect object with the first user message in event.details:
                /* {
                      "timestamp": 1712354899770,
                      "author": "user",
                      "type": "text",
                      "data": {
                          "text": "I need new contract management system"
                      },
                      "id": "agrqk3td6c"
                 } */
            });

            // Event "c7o:bot:actionPresented" is emitted when action button is presented to user, such as "Book VIP Demo" button
            chatBotElement.addEventListener('c7o:bot:actionPresented',(event)=>{
                console.log(`Bot Event: c7o:bot:actionPresented`,event.detail);
                // Expect object with the action details in event.details:
                /*
                    {
                        "action": {
                            "type": "hubspotMeeting",
                            "leadCondition": "Hot",
                            "name": "Book VIP Demo",
                            "value": "https://meetings-eu1.hubspot.com/zach-hintze/website-demo-request-ae-round-robin?utm_campaign=042024-chatbot-crescendo&utm_source=crescendo-chat",
                            "hubspotMeetingAuto": false,
                            "title": "Book VIP Demo",
                            "url": "https://meetings-eu1.hubspot.com/zach-hintze/website-demo-request-ae-round-robin?utm_campaign=042024-chatbot-crescendo&utm_source=crescendo-chat",
                            "internalId": 0
                        }
                    }
                * */
            });

            // Event "c7o:bot:actionCompleted" is emitted when user completed action, for example, booked a meeting via Hubspot
            chatBotElement.addEventListener('c7o:bot:actionCompleted',(event)=>{
                console.log(`Bot Event: c7o:bot:actionCompleted`,event.detail);
                // Expect object with the action and results data in event.details:
                /*
                {
                      "action": {
                          "type": "hubspotMeeting",
                          "leadCondition": "Hot",
                          "name": "Book VIP Demo",
                          "value": "https://meetings-eu1.hubspot.com/zach-hintze/website-demo-request-ae-round-robin?utm_source=crescendocx.ai",
                          "hubspotMeetingAuto": false,
                          "title": "Book VIP Demo",
                          "url": "https://meetings-eu1.hubspot.com/zach-hintze/website-demo-request-ae-round-robin?utm_source=crescendocx.ai",
                          "internalId": 0,
                          "triggered": 1712356706593
                      },
                      "data": {
                          "meetingBookSucceeded": true,
                          "meetingsPayload": {
                              "linkType": "PERSONAL_LINK",
                              "offline": false,
                              "userSlug": "slava-sayko",
                              "formGuid": "733e58ab-cd68-40f2-838a-2a51bb03c620",
                              "bookingResponse": {
                                  "event": {
                                      "duration": 3600000,
                                      "formFields": [],
                                      "dateString": "2024-04-08",
                                      "dateTime": 1712610900000,
                                      "bookingTimeConflictStatus": false
                                  },
                                  "postResponse": {
                                      "timerange": {
                                          "start": 1712610900000,
                                          "end": 1712614500000
                                      },
                                      "organizer": {
                                          "firstName": "Slava",
                                          "lastName": "Sayko",
                                          "email": "",
                                          "fullName": "",
                                          "name": "Slava Sayko",
                                          "userId": null
                                      },
                                      "bookedOffline": false,
                                      "contact": {
                                          "firstName": "Slava",
                                          "lastName": "Sayko",
                                          "email": "slava.sayko@gmail.com",
                                          "fullName": "",
                                          "name": "Slava Sayko",
                                          "userId": null
                                      }
                                  }
                              },
                              "isPaidMeeting": false
                          }
                      }
                  }
                * */
            });
        }


        window.addEventListener('load', () => {
            const chatBot = document.querySelector('enegelai-bot');

            subscribeToBotEvents();

            const clearConvBtn = document.querySelector('#clearConv');
            clearConvBtn.addEventListener('click', (e) => {
                console.log('Clear conv clicked!');
                chatBot.clearConversation();
            });
        });
    </script>

</div>


</body>
</html>